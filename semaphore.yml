version: v1.0
name: AI Training (indefinite)

agent:
  machine:
    type: e1-standard-4   # Linux, 4 vCPU
    os_image: ubuntu2004

blocks:
  - name: Run training
    task:
      jobs:
        - name: AI trainer
          commands:
            - checkout
            - python3 --version
            - pip3 install --no-cache-dir requests
            - |
              echo "Starting main.py indefinitely on Linux"
              uname -a
              while true; do
                python3 main.py
                echo "main.py exited â€” restarting..."
                sleep 1
              done
